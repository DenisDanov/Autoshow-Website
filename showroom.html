<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Showroom</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="showroom.css">
</head>

<body>
    <header class="nav-header" id="header">
        <a href="#" class="logo">
            <img class="logo-img" src="images/logo.png" alt="Logo">
        </a>
        <div class="h1">
            <h1>Where Luxury Meets Performance</h1>
        </div>
        <div class="container">
            <button class="hamburger" id="hamburgerButton">
                <i class="fas fa-bars"></i>
                <span class="menuText">Menu</span>
            </button>
            <ul class="menu" id="menu">
                <li><a class="menuItem" href="index.html" onclick="setHamburgerRelative(event)"><i
                            class="fas fa-home"></i>
                        Home</a></li>
                <li><a class="menuItem" href="auto-show.html" onclick="setHamburgerRelative(event)"><i
                            class="fas fa-car"></i>
                        Auto
                        Show</a></li>
                <li><a class="menuItem" href="#" onclick="setHamburgerRelative(event)"><i
                            class="fas fa-sign-in-alt"></i> Log in</a></li>
                <li><a class="menuItem" href="#" onclick="setHamburgerRelative(event)"><i
                            class="fas fa-info-circle"></i> About</a></li>
            </ul>
        </div>
        <nav class="navs">
            <nav>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i></a></li>
                    <li><a href="auto-show.html"><i class="fas fa-car"></i></a></li>
                    <li><a href="#"><i class="fas fa-sign-in-alt"></i></a></li>
                    <li><a href="#"><i class="fas fa-info-circle"></i></a></li>
                </ul>
            </nav>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="auto-show"><a href="auto-show.html">Auto Show</a></li>
                    <li><a href="#">Log in</a></li>
                    <li><a href="#">About</a></li>
                </ul>
            </nav>
        </nav>
    </header>
    <script src="mobile-menu.js"></script>
    <div id="model-container"></div>
    <script type="module">
        import * as THREE from 'https://cdn.skypack.dev/three@0.132.2';
        import { GLTFLoader } from 'https://cdn.skypack.dev/three@0.132.2/examples/jsm/loaders/GLTFLoader';
        import { OrbitControls } from 'https://cdn.skypack.dev/three@0.132.2/examples/jsm/controls/OrbitControls';

        const container = document.getElementById('model-container');
        const containerRect = container.getBoundingClientRect();

        const aspectRatio = containerRect.width / containerRect.height;
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 1000); // aspect ratio
        const renderer = new THREE.WebGLRenderer();
        const controls = new OrbitControls(camera, renderer.domElement);

        // size of the container
        renderer.setSize(containerRect.width, containerRect.height);
        container.appendChild(renderer.domElement);

        // camera position
        function setCameraPosition() {
            if (containerRect.width > 567) {
                // Set camera position for widths greater than 567px
                camera.position.set(35, 10, 40);
                camera.fov = 25;
            } else {
                // Set alternative camera position for widths less than or equal to 567px
                camera.position.set(50, 10, 30);
                camera.fov = 25;
            }
        }

        setCameraPosition();

        const loader = new GLTFLoader();
        let model;

        loader.load('3D Models/modified_lamborghini_urus.glb', (gltf) => {
            model = gltf.scene;

            // timeout to ensure that the model is fully loaded before calculating scale
            setTimeout(() => {
                // Adjust model scale
                const boundingBox = new THREE.Box3().setFromObject(model);
                const scaleFactor = containerRect.width / boundingBox.getSize().x;
                model.scale.set(scaleFactor, scaleFactor, scaleFactor);

                // Set model position to the center of the scene
                model.position.set(0, 0, 0);
            }, 0);

            scene.add(model);
        }, undefined, (error) => {
            console.error('Error loading GLB model:', error);
        });

        // Directional light
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 5, 5).normalize();
        scene.add(directionalLight);

        function animate() {
            requestAnimationFrame(animate);

            if (model) {
                model.rotation.y += 0.005;
            }

            controls.update();
            renderer.render(scene, camera);
        }

        animate();

        window.addEventListener('resize', () => {
            const containerRect = container.getBoundingClientRect();

            // camera and renderer size on window resize
            camera.aspect = containerRect.width / containerRect.height;
            camera.updateProjectionMatrix();
            renderer.setSize(containerRect.width, containerRect.height);
        });
    </script>
    <footer class="footer-section">
        <h3>NEWSLETTER</h3>
        <p>Subscribe to our Newsletter!</p>
        <div class="subscribe-form">
            <input type="email" placeholder="Your Email Address">
            <button>Subscribe</button>
        </div>
        <div class="socials-section">
            <a href="https://www.facebook.com/profile.php?id=100005977189177" target="_blank"><i
                    class="fab fa-facebook"></i></a>
            <a href="https://github.com/DenisDanov" target="_blank"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/denisdanov69/" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com/in/denis-danov-510756246/" target="_blank"><i
                    class="fab fa-linkedin"></i></a>
        </div>
        <div class="copyright-section">
            <p>&copy; 2023 Danov's Auto Show. All rights reserved.</p>
        </div>
    </footer>
</body>

</html>